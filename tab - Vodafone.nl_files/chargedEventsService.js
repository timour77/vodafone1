!function(r,e,t){"use strict";function o(r){this.config={billingCustomerId:t,billingArrangementId:t,invoiceId:t,subscriberId:t,invoiceCloseDate:t,pageSize:t,pageNumber:1,eventType:t,messageCode:t,bundleInd:t,serviceNumberInd:t,fromStartTime:t,toStartTime:t,calledNumber:t,fromDuration:t,toDuration:t,fromChargeAmount:t,toChargeAmount:t},this.init(r)}o.prototype={constructor:o,init:function(r){for(var e in r)r.hasOwnProperty(e)&&(this.config[e]=r[e])},set:function(r,e){this.config.hasOwnProperty(r)&&(this.config[r]=e)},_getData:function(){var r,o=this,n=e.Deferred();if(o.config.billingCustomerId===t)return n.reject("Missing billingCustomerId"),n.promise();if(o.config.billingArrangementId===t)return n.reject("Missing billingArrangementId"),n.promise();if(o.config.invoiceId===t)return n.reject("Missing invoiceId"),n.promise();if(o.config.subscriberId===t)return n.reject("Missing subscriberId"),n.promise();if(o.config.invoiceCloseDate===t)return n.reject("Missing invoiceCloseDate"),n.promise();if(o.config.eventType===t)return n.reject("Missing eventType"),n.promise();r="/rest/my/invoice/charged-events/"+o.config.billingCustomerId+"?billing_arrangement_id="+o.config.billingArrangementId+"&invoice_id="+o.config.invoiceId+"&subscriber_id="+o.config.subscriberId+"&invoice_close_date="+o.config.invoiceCloseDate+"&page_size="+o.config.pageSize+"&page_number="+o.config.pageNumber+"&event_type="+o.config.eventType,o.config.bundleInd&&(r+="&bundle_ind="+o.config.bundleInd),o.config.calledNumber&&(r+="&called_number="+o.config.calledNumber),o.config.fromDuration&&(r+="&from_duration="+o.config.fromDuration),o.config.toDuration&&(r+="&to_duration="+o.config.toDuration),o.config.fromChargeAmount&&(r+="&from_charge_amount="+o.config.fromChargeAmount),o.config.toChargeAmount&&(r+="&to_charge_amount="+o.config.toChargeAmount),o.config.messageCode&&(r+="&message_code="+o.config.messageCode);var i={critical:!0,url:r,success:function(r){n.resolve(r)},error:function(r){n.reject(r.error)},cache:!1};return VF.core.ajax().init(i),n.promise()},getChargedEvents:function(){var r=this,t=e.Deferred();return r._getData().done(function(r){t.resolve(r)}).fail(function(){t.reject()}),t.promise()},reset:function(){return this.cache={},this}},r.VF.namespace("VF.services.billing.ChargedEventsService"),r.VF.services.billing.ChargedEventsService=o}(window,window.jQuery);