!function(r,e){var t=function(e,o){this.$el=r(e),this.$header=null,this.$fixedHeader=null,this.options=r.extend({},t.DEFAULTS,o),this.init()};t.DEFAULTS={},t.prototype.init=function(){var t=this,o=r('<div class="header-fixed"></div>'),n=(r("thead",this.$el).height(),this.$el.offset().top,this.$el.offset().left),i=this.$el.width();this.$el.height();r("thead",this.$el).length<1&&(r("th",this.$el).length>0?(r("th",this.$el).eq(0).parent().wrap('<thead class="theader"></thead>'),r(".theader",this.$el).prependTo(this.$el)):r("tr",this.$el).eq(0).wrap("<thead></thead>"));var l=r('<table class="'+this.$el.attr("class")+'"></table>');l.css("margin","0"),this.$header=r("thead",this.$el).clone(),this.$header.appendTo(l),o.css({position:"fixed",top:"0px",display:"none",left:n+"px",width:i+"px","z-index":"103",boxShadow:"0 3px 5px -5px #000000"}),this.$fixedHeader=o.append(l),this.$el.find("th").each(function(e,o){t.$header.find("th").eq(e).css("width",r(this).width()+"px").removeAttr("colspan")}),r(e).on("scroll",r.proxy(this.onScroll,this)),r(e).on("resize",VF.core.debounce(function(){t.refresh()},250))},t.prototype.onScroll=function(){var t=this,o=r(e).scrollTop(),n=r("thead",t.$el).height(),i=t.$el.offset().top,l=t.$el.height();o>=i&&t.$fixedHeader.is(":hidden")&&o<i+(l-n)?(t.$fixedHeader.appendTo("body"),t.$fixedHeader.show(),t.$el.addClass("stuck")):(o<i||o>i+l-n)&&(t.$fixedHeader.hide(),t.$el.removeClass("stuck"))},t.prototype.refresh=function(){var e=this;this.$fixedHeader.css({left:this.$el.offset().left+"px",width:this.$el.width()+"px"}),this.$el.find("th").each(function(t,o){e.$header.find("th").eq(t).css("width",r(this).width()+"px")})},t.prototype.destroy=function(){r(e).off("scroll");var t=this;t.$el.each(function(){t.$fixedHeader.remove(),t.$el.removeData("stickytable")})};var o=r.fn.stickytable;r.fn.stickytable=function(e){return this.each(function(){var o=r(this),n=o.data("stickytable"),i="object"==typeof e&&e;n||o.data("stickytable",n=new t(this,i)),"string"==typeof e&&n[e].apply(n)})},r.fn.stickytable.Constructor=t,r.fn.stickytable.noConflict=function(){return r.fn.stickytable=o,this},VF.namespace("VF.util.stickytable"),VF.util.stickytable=function(r,e){return r.stickytable(e)}}(jQuery,window);